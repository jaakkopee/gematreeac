<html>
    <head>
        <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
        <meta charset="utf-8">
    </head>
    <body>
        <py-env>
            - numpy
            - matplotlib
            - paths:
                - ./gemNumFuncs.py
                - ./alphabet.py
                - ./getwordsfromdbs.py   
    
        </py-env>
        <py-script output="dmsDiv">
        import matplotlib.pyplot as plt
        import gemNumFuncs as gnf
        import getwordsfromdbs as gwdb
        from js import localStorage, console

        gvArray=localStorage.getItem("dataForPlot_gv").split()
        distanceArray=localStorage.getItem("dataForPlot_distance").split()
        xArray=localStorage.getItem("dataForPlot_x").split()
        yArray=localStorage.getItem("dataForPlot_y").split()

        x=[]
        y=[]
        distances=[]
        colors=[]
        highestDistance=0.0
        for i in range(len(gvArray)):
            distances+=[float(distanceArray[i])]
            x+=[float(xArray[i])]
            y+=[float(yArray[i])]

            if float(distanceArray[i]) > highestDistance:
                highestDistance=float(distanceArray[i])
        
        for i in distances:
            r=(0.9*float(i))/highestDistance
            g=(0.5*float(i))/highestDistance
            b=(1.0*float(i))/highestDistance

            colors+=[[r,g,b]]

        fig, ax = plt.subplots()

        ax.scatter(x, y, s=6, c=colors)

        fig

        </py-script>

        <div id="dmsDiv"></div>
    </body>
</html>
